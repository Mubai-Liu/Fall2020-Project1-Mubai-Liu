---
title: "Education vs. Election of White Americans"
author: "Mubai Liu"
date: "9/30/2020"
output: html_document
---

# 1. Introduction
<img src="../figs/PoliticsEducation.jpg" width="150">


imagesource

As the time has come to 2020, the education evolved so much in the past centuries. It seems that nowadays the Republican Party would rather cut off the education or any other supporting fees on the program rather than supporting it. (source) On the other hand, the Democratic Party supports the idea of a larger government that is more involved in people’s everyday lives. As more and more programs of supporting the educational resources, the voting behavior of high educational people is under a swift change in the up coming few decades.


To be more specific on what we are trying to explore in this blog of data analysis, we'll try to answer the following questions:

-Would the education be a huge factor the the presidential voting?

-What are the potential reasons that might support the shift of voting behavior?

```{r, include = FALSE}
library(haven)
library(tidyverse)
anes_dat <-
    read_sav("../data/anes_timeseries_cdf.sav")
```

# 2. Data and Potential Biases

The *American National Election Studies* (ANES) are surveys of voters in the U.S. on the national scale. For each presidential election since 1948, ANES collects responses from respondents both before and after the election. The goal of ANES is to understand political behaviors using systematic surveys. ANES's data and results have been routinely used by news outlets, election campaigns and political researchers.

The *Time Series Cumulative Data* of ANES include answers, from respondents from different years, on selected questions that have been asked in three or more ANES' *Time Series* studies. Tremendous amount of efforts have been put into data consolidation as variables are often named differently in different years. 

Although it is a reliable and credible resource of data, the potential bias is inevitably exists in the dataset as we have shown in below.

```{r year barplot, message = F, echo = F}
barplot(table(anes_dat$VCF0004),
        las=2,
        main="number of respondents over the years")
```


Due to some reasons with either technical or human resources issues, each voting year has a various amount of surveyed data from the lowest `r min(table(anes_dat$VCF0004))` to the highest `r max(table(anes_dat$VCF0004))`, which would cause some spike may happen in 2012 due to a larger sample size. We must consider each year's sample size to make a unbiased analysis. 

Another downside of this dataset is that some variables are asked nearly all the years and some are asked only a few years, we can see it through the following figure by noticing how much NA values exists. 

```{r NAs, echo = F}
library(tidyverse)
anes_NAs=anes_dat%>%
  summarise_all(list(na.mean=function(x){
                              mean(is.na(x))}))
anes_NAs=data.frame(nas=unlist(t(anes_NAs)))
ggplot(anes_NAs, aes(x=nas)) + 
  geom_histogram(color="black", 
                 fill="white",
                 binwidth=0.05)+
  labs(title="Fractions of missing values",
       x = "NA values") + 
  theme_light()
```
```{r process data, warning = FALSE, message = F, include = F}
Election_years = as.character((seq(1948, 2016, 4)))
anes_use=anes_dat%>%
  mutate(
    year=as_factor(VCF0004),
    turnout=as_factor(VCF0703),
    vote=as_factor(VCF0706),
    race=as_factor(VCF0105a),
    gender=as_factor(VCF0104),
    education = as_factor(VCF0140a),
    income = as_factor(VCF0114),
    region = as_factor(VCF0112),
    care.win = as_factor(VCF0311),
    loc.perf = as_factor(VCF0652),
    pres.perf = as_factor(VCF0653),
    media.trust = as_factor(VCF0675),
    gov.spend = as_factor(VCF0839)
  )%>%
  filter(year %in% Election_years) %>%
  select(year,
         turnout,
         vote,
         race,
         gender,
         education,
         income,
         region,
         care.win,
         loc.perf,
         pres.perf,
         media.trust,
         gov.spend)

save(anes_use, file = "../output/data_story_use.RData")
```

Therefore, when handling the data, we must avoid directly using the ones with NA values or otherwise it would be problematic for the visualization. Despite all of the "technical" problems with the dataset, we also might want to logically discuss about the higher educational people's behavior before the committing such surveys. We understand that as the time goes on, more and more people become the category as classified "high". To be more precise with our common knowledge, we'll treat the people who at least has a college degree as "high". The potential bias of the survey may exist due to the fact that people may lie to the reporter, but since most college degrees would require a diploma or some identity verification, we might not worry too much about the number of misclassification to be high. 




```{r, echo = F}
ggplot(anes_use %>% filter(!is.na(turnout) & !is.na(education)) %>% select(year, turnout, education, race) %>% filter(turnout == "3. Voted (registered)") %>% filter(race == "1. White non-Hispanic (1948-2012)") %>% group_by(year) %>% count(education) %>% group_by(year) %>% mutate(prop = n/sum(n)),
       aes(x = year, y = prop, fill = education)) +
  geom_bar(stat = "identity", colour = "black")

## line?
```


# Education break down

```{r, message = F, fig.height=14, fig.width=14}
# anes_use %>% 
#   filter(!is.na(education) & !is.na(vote)) %>%
#   filter(vote != "7. Did not vote or voted but not for president (exc.1972)") %>%
#   group_by(year, education) %>%
#   count(vote) %>%
#   group_by(year, education) %>%
#   mutate(prop = n/sum(n))

ggplot(anes_use %>% 
  filter(!is.na(education) & !is.na(vote)) %>%
  filter(race == "1. White non-Hispanic (1948-2012)") %>%
  filter(vote != "7. Did not vote or voted but not for president (exc.1972)") %>%
  group_by(year, education) %>%
  count(vote) %>%
  group_by(year, education) %>%
  mutate(prop = n/sum(n)),
  aes(x = year, y = prop, fill = vote)) +
  geom_bar(stat = "identity", color = "black") +
  scale_fill_manual('Vote', values = c("dodgerblue3", "firebrick2", "gold1", "lightgoldenrod1")) +
  facet_wrap(~education)
```



# Turnout rate
```{r, message = F, echo = F, fig.height=14, fig.width=14}
anes_turnout = anes_use %>%
  filter(!is.na(race) & !is.na(turnout) & !is.na(education))%>%
  mutate(is_white=ifelse(race=="1. White non-Hispanic (1948-2012)","White non-Hispanic (1948-2012)", "Not white"))%>%
  filter(is_white=="White non-Hispanic (1948-2012)")%>%
  group_by(year,education, race)%>%
  count(turnout)%>%
  group_by(year,education, race)%>%
  mutate(
    prop=n/sum(n)
  )
ggplot(anes_turnout, 
       aes(x=year, y=prop, fill=turnout)) +
  geom_bar(stat="identity", colour="black") + facet_wrap(~education, ncol=2) +
  theme(axis.text.x = element_text(angle = 90, size=10),
        axis.text.y = element_text(size=10),
        plot.title = element_text(hjust = 0.5,size=15),
        axis.title.x=element_text(size=12),
        axis.title.y=element_text(size=12),
        strip.text = element_text(size=12),
        legend.title=element_text(size=12), 
        legend.text=element_text(size=11))+
  scale_fill_brewer('Voter Turnout',palette="Set2")+
  labs(title="\nTurnout of Democrats and Republicans",x='\nYear\n',y='Proportion\n')

```
# Difference in Region

```{r, message = F, echo = F, fig.height=14, fig.width=14}
anes_region <- anes_use %>% 
  filter(!is.na(education) & !is.na(region)) %>%
  filter(vote == "1. Democrat") %>%
  filter(race == "1. White non-Hispanic (1948-2012)") %>%
  group_by(year, education) %>%
  count(region) %>%
  group_by(year, education) %>%
  mutate(prop = n/sum(n))


ggplot(anes_region, aes(x = year, y = prop, fill = region)) +
  geom_bar(stat = "identity", color = "black") +
  scale_fill_manual('Vote', values = c("dodgerblue3", "firebrick2", "gold1", "lightgoldenrod1", "green", "orange", "gold")) +
  facet_wrap(~education)
```
# Preference and Evaluation

```{r, echo = F, fig.height=14, fig.width=14}
anes_pref <- anes_use %>%
  filter(!is.na(pres.perf) & !is.na(education)) %>%
  filter(race=="1. White non-Hispanic (1948-2012)") %>%
  group_by(year, education) %>%
  count(pres.perf) %>%
  group_by(year,education) %>%
  mutate(prop = n/sum(n))

ggplot(anes_pref, aes(x = year, y = prop, fill = pres.perf)) +
  geom_bar(stat = "identity", color = "black") + 
  scale_fill_manual('Vote', values = colorspace::diverge_hsv(9)) +
  facet_wrap(~education)
# want more detailed restrictions
```


```{r, echo = F, fig.height=14, fig.width=14}
anes_loc_perf <- anes_use %>%
  filter(!is.na(loc.perf) & !is.na(education)) %>%
  filter(race=="1. White non-Hispanic (1948-2012)") %>%
  group_by(year, education) %>%
  count(loc.perf) %>%
  group_by(year,education) %>%
  mutate(prop = n/sum(n))

ggplot(anes_loc_perf, aes(x = year, y = prop, fill = loc.perf)) +
  geom_bar(stat = "identity", color = "black") + 
  scale_fill_manual('Vote', values = colorspace::diverge_hsv(9)) +
  facet_wrap(~education)
# want more detailed restrictions
```

```{r, echo = F, fig.height=14, fig.width=14}
anes_trust <- anes_use %>%
  filter(!is.na(media.trust) & !is.na(education)) %>%
  filter(race=="1. White non-Hispanic (1948-2012)") %>%
  group_by(year, education) %>%
  count(media.trust) %>%
  group_by(year,education) %>%
  mutate(prop = n/sum(n))

ggplot(anes_trust, aes(x = year, y = prop, fill = media.trust)) +
  geom_bar(stat = "identity", color = "black") + 
  scale_fill_manual('Vote', values = colorspace::diverge_hsv(6)) +
  facet_wrap(~education)
# want more detailed restrictions
```
```{r, echo = F, fig.height=14, fig.width=14}
anes_spend <- anes_use %>%
  filter(!is.na(gov.spend) & !is.na(education)) %>%
  filter(race=="1. White non-Hispanic (1948-2012)") %>%
  group_by(year, education) %>%
  count(gov.spend) %>%
  group_by(year,education) %>%
  mutate(prop = n/sum(n))

ggplot(anes_spend, aes(x = year, y = prop, fill = gov.spend)) +
  geom_bar(stat = "identity", color = "black") + 
  scale_fill_manual('Vote', values = colorspace::diverge_hsv(9)) +
  facet_wrap(~education)
# want more detailed restrictions
```







# Attitude towards voting

```{r, echo = F, fig.height=10, fig.width=14}
anes_att <- anes_use %>% 
  filter(!is.na(education) & !is.na(care.win)) %>%
  filter(vote == "1. Democrat") %>%
#  filter(education == "6. BA level degrees" | education == "7. Advanced degrees incl. LLB") %>%
  group_by(year, education) %>%
  count(care.win) %>%
  group_by(year, education) %>%
  mutate(prop = n/sum(n))


ggplot(anes_att, aes(x = year, y = prop, group = care.win)) +
  geom_line(aes(linetype = care.win, color = education)) + 
  facet_wrap(~education)
```




# Conclusion

In conclusion, this might conclude that the voting behavior for white Americans high educational system people have changed a lot.

Despite the fact that the Democratic Party typically promises more government aid programs, most low income white Republicans emphasize family ties and a strong relationship with Christianity and their church to help with their everyday problems, including financial problems, rather than relying on the government. Moreover, their high emphasis on community and values informed by their religion are reflected in their high turnout rate so that they can have a government that supports those values but does not intrude on their community. On the other hand, many low income white Democrats are Christian as well, but religion typically plays less of a role in their lives, and they believe more in government aid like welfare programs.

However, there could be additional variables in the survey we did not explore or even variables that were not in the survey at all that could explain more about these differences in voting behavior. Note that attributes like age, gender, occupation, region, and education levels did not seem to indicate that a person would be more likely to vote Democrat or Republican, but I have omitted this result from the analysis to focus more on differences rather than similarities.

Finally, although we now know more about the demographic differences between low income white Republicans and low income white Democrats, we still do not actually know for sure if these differences are merely correlated with their voting decisions or if they actually cause them to vote the way they do. We would need to use some causal inference techniques on the survey results or look at data other than the survey results to determine actual causal effects on low income white Americans’ voting behavior.


